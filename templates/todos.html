{% extends "layout.html" %}

{% block content %}

<!-- Modal -->
{% include 'create-modal.html' %}

<!-- [todo] row template -->
{% include 'todo-row-template.html' %}

<article class="todos-list">
    <header>
        <h1>
            TODO List
            <button type="button" class="btn btn-primary btn-lg pull-right" data-toggle="modal" data-target="#create-modal">Create</button>
        </h1>
        
    </header>
    <section class="content">
        <div class="items hidden">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Description</th>
                        <th>Status</th>
                        <th class="text-center">Actions</th>
                    </tr>
                </thead>
                <!-- [todo] list container -->
                <tbody id="todos-container"></tbody>
            </table>
            <!-- Pagination -->
            <div id="pages-container" class="pull-right"></div>
        </div>

        <!-- Loading -->
        <div class="loading">
            Loading...
        </div>
        
        <!-- No result fallback -->
        <div class="no-items hidden">
            <p>Seems like you haven't created a TODO yet. <a href="#" role="button" data-toggle="modal" data-target="#create-modal">Create it now!</a></p>
        </div>
    </section>
</article>
{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" href="{{ app.request.basepath }}/css/pagination.css">
{% endblock %}

{% block javascript %}
<script type="text/javascript" src="{{ app.request.basepath }}/js/pagination.min.js"></script>
<script type="text/javascript">
    // On document ready
    $( document ).ready(() => {
        Todo.onReady();
        Todo.initPaginator();
        FlashNotifications.onReady();
    });
</script>
{% endblock %}
